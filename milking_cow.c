#region Local Var
	vector3 vLocal_0 = { 0f, 0f, 0f };
	float fLocal_3 = 0f;
	vector3 vLocal_4 = { 0f, 0f, 0f };
	float fLocal_7 = 0f;
	vector3 vLocal_8 = { 0f, 0f, 0f };
	vector3 vLocal_11 = { 0f, 0f, 0f };
	vector3 vLocal_14 = { 0f, 0f, 0f };
	vector3 vLocal_17 = { 0f, 0f, 0f };
	struct<136> Local_20 = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1082130432, 0, 0, -1082130432, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1082130432, 0, 0, -1082130432, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1036831949, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11851046, 817790194, 0, 0, 0 } ;
	var uLocal_156 = -1;
	var uLocal_157 = -1;
	var uLocal_158 = 0;
	var uLocal_159 = 0;
	var uLocal_160 = 0;
	var uLocal_161 = 0;
	var uLocal_162 = 0;
	var uLocal_163 = 0;
	var uLocal_164 = 0;
	var uLocal_165 = 0;
	var uLocal_166 = 0;
	var uLocal_167 = 0;
	var uLocal_168 = 0;
	var uLocal_169 = 0;
	struct<34> ScriptParam_0 = { -1, -1, -1, 0, -1, 0, 0, 0, 0, 0, 0, -1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, -1, 255, 0, 0 } ;
#endregion
void __EntryFunction__()
{
	int iVar0;
	struct<188> Var1;
	vLocal_0 = { 1.47681f, -0.749695f, -0.0486145f };
	fLocal_3 = 170.7721f;
	vLocal_4 = { 0.812012f, -0.631683f, -0.0291901f };
	fLocal_7 = 290.2319f;
	vLocal_8 = { 0.7006f, 0.094f, 1.076f };
	vLocal_11 = { -49.5998f, 0f, -107.2854f };
	vLocal_14 = { 0.75708f, -0.630981f, -0.0272522f };
	vLocal_17 = { 1.47479f, -0.239473f, -0.0476227f };
	iVar0 = 0;
	Var1 = -1;
	Var1.f_1 = -1;
	Var1.f_2 = -1;
	Var1.f_4 = -1;
	Var1.f_11 = -1;
	Var1.f_15 = 20;
	Var1.f_15.f_1 = -1;
	Var1.f_15.f_1.f_1 = -1;
	Var1.f_15.f_1.f_3 = -1;
	Var1.f_15.f_1.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3 = -1;
	Var1.f_15.f_1.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_3.f_1 = -1;
	Var1.f_84 = 24;
	Var1.f_187 = -1;
	__LIB_7__::func_861(&Var1, ScriptParam_0);
	if (PLAYER::HAS_FORCE_CLEANUP_OCCURRED(546))
	{
		func_2(&Var1, 0, 1);
	}
	if (__LIB_1__::func_77(Var1.f_14, 32))
	{
		func_4(&Var1);
		while (func_5(&Var1) == 0)
		{
			if (Global_1935630.f_12)
			{
				__LIB_7__::func_862(&Var1, 7);
			}
			if (__LIB_1__::func_77(Var1.f_14, 8))
			{
				__LIB_7__::func_862(&Var1, 7);
			}
			BUILTIN::WAIT(0);
		}
		iVar0 = 1;
	}
	while (__LIB_1__::func_77(Var1.f_14, 32))
	{
		if (Global_1935630.f_12)
		{
			__LIB_7__::func_862(&Var1, 7);
		}
		if (__LIB_1__::func_77(Var1.f_14, 8))
		{
			__LIB_7__::func_862(&Var1, 7);
		}
		BUILTIN::WAIT(0);
	}
	if (BUILTIN::VDIST2(Global_36, ScriptParam_0.f_6) > 100f)
	{
		__LIB_7__::func_862(&Var1, 0);
	}
	else
	{
		__LIB_7__::func_862(&Var1, 2);
	}
	if (!func_7(&Var1))
	{
		__LIB_7__::func_862(&Var1, 7);
	}
	if (iVar0 == 0)
	{
		func_4(&Var1);
	}
	if (ScriptParam_0.f_12 != 5)
	{
		HUD::_HIDE_HUD_COMPONENT(372886907);
	}
	while (true)
	{
		if (Global_1935630.f_12)
		{
			__LIB_7__::func_862(&Var1, 7);
		}
		if (__LIB_1__::func_77(Var1.f_14, 8))
		{
			__LIB_7__::func_862(&Var1, 7);
		}
		__LIB_1__::func_538(0);
		if (!PLAYER::IS_PLAYER_DEAD(PLAYER::PLAYER_ID()))
		{
			PLAYER::SET_ALL_RANDOM_PEDS_FLEE_THIS_FRAME(PLAYER::PLAYER_ID());
		}
		if (__LIB_0__::func_2() != -1)
		{
			__LIB_7__::func_863(4, 1);
		}
		__LIB_7__::func_858();
		__LIB_4__::func_517(1);
		__LIB_7__::func_864(&Var1);
		__LIB_18__::func_65(&Var1);
		switch (Var1.f_12)
		{
			case 0:
				__LIB_7__::func_862(&Var1, __LIB_7__::func_865(ScriptParam_0.f_6));
				break;
			case 1:
				__LIB_7__::func_862(&Var1, __LIB_7__::func_866());
				break;
			case 2:
				__LIB_7__::func_862(&Var1, func_17(&Var1));
				break;
			case 3:
				__LIB_7__::func_862(&Var1, __LIB_11__::func_204(&Var1));
				break;
			case 4:
				__LIB_7__::func_862(&Var1, func_19(&Var1));
				break;
			case 5:
				__LIB_7__::func_862(&Var1, func_20(&Var1));
				break;
			case 7:
				func_2(&Var1, 1, 1);
				break;
			default:
				break;
		}
		__LIB_7__::func_864(&Var1);
		Global_1899528.f_207 = MISC::GET_FRAME_COUNT();
		BUILTIN::WAIT(0);
	}
}

void func_2(var uParam0, int iParam1, bool bParam2)
{
	int iVar0;
	int iVar1;
	if (iParam1 == 1 && uParam0->f_14 != 5)
	{
		if (CAM::IS_SCREEN_FADED_OUT())
		{
			CAM::DO_SCREEN_FADE_IN(500);
		}
	}
	iVar0 = __LIB_0__::func_298(0);
	if (__LIB_0__::func_6(iVar0))
	{
		iVar1 = __LIB_0__::func_700(iVar0);
		if (iVar1 == 4)
		{
			MISC::_0x1096603B519C905F("");
		}
	}
	__LIB_4__::func_517(0);
	HUD::_DISPLAY_HUD_COMPONENT(372886907);
	AUDIO::STOP_AUDIO_SCENE(__LIB_7__::func_724(uParam0->f_14));
	PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0, false);
	PLAYER::SET_EVERYONE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), false);
	PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0, false);
	HUD::_TEXT_DATABASE_DELETE(__LIB_7__::func_856(uParam0->f_14));
	if (__LIB_1__::func_44(uParam0->f_4) || __LIB_0__::func_702(uParam0->f_4))
	{
		if (__LIB_7__::func_730())
		{
			__LIB_1__::func_559(uParam0->f_4, 0, 0);
		}
		else
		{
			__LIB_1__::func_559(uParam0->f_4, 0, 2);
		}
	}
	if (bParam2)
	{
		__LIB_1__::func_298(uParam0->f_4, 1);
	}
	__LIB_7__::func_884(uParam0, 0);
	__LIB_1__::func_748(&(uParam0->f_76), 1, 1);
	__LIB_1__::func_748(&(uParam0->f_77), 1, 1);
	ENTITY::_0x18FF3110CF47115D(Global_35, 9, 1);
	func_34(uParam0);
	__LIB_4__::func_896(1);
	if (uParam0->f_188 == 1)
	{
		if (__LIB_1__::func_652())
		{
			CLOCK::_SET_MILLISECONDS_PER_GAME_MINUTE(4000);
		}
		else
		{
			CLOCK::_SET_MILLISECONDS_PER_GAME_MINUTE(2000);
		}
		uParam0->f_188 = 0;
	}
	if (uParam0->f_189 == 1)
	{
		uParam0->f_189 = 0;
		MISC::SET_GAME_PAUSED(false);
	}
	__LIB_1__::func_78(uParam0->f_14);
	if (uParam0->f_190 == 0)
	{
		Global_1899528.f_45[uParam0->f_14] = __LIB_0__::func_23();
		__LIB_2__::func_670(&(Global_1899528.f_45[uParam0->f_14]), 0, 0, Global_1899528.f_53[uParam0->f_14], 0, 0, 0, 0);
	}
	else
	{
		__LIB_7__::func_883(uParam0->f_14, 0);
	}
	SCRIPTS::TERMINATE_THIS_THREAD();
}

void func_4(var uParam0)
{
	HUD::_TEXT_DATABASE_REQUEST(__LIB_7__::func_856(uParam0->f_14));
	__LIB_7__::func_864(uParam0);
	func_42(uParam0);
}

int func_5(var uParam0)
{
	if (!__LIB_7__::func_882(&(uParam0->f_15)))
	{
		return 0;
	}
	if (!HUD::_TEXT_DATABASE_HAS_LOADED(__LIB_7__::func_856(uParam0->f_14)))
	{
		return 0;
	}
	if (!PED::_0x5E420FF293EE5472())
	{
		return 0;
	}
	return func_44(uParam0);
}

bool func_7(var uParam0)
{
	int iVar0;
	int iVar1;
	__LIB_0__::func_105(1);
	UIFEED::_0xDD1232B332CBB9E7(3, 1, 0);
	UIFEED::_0xDD1232B332CBB9E7(2, 1, 0);
	if (PLAYER::IS_PLAYER_DEAD(PLAYER::PLAYER_ID()) || !PLAYER::IS_PLAYER_DEAD(PLAYER::PLAYER_ID()))
	{
		if (uParam0->f_14 != 5)
		{
			PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), false, 0, false);
		}
		PLAYER::SET_EVERYONE_IGNORE_PLAYER(PLAYER::PLAYER_ID(), true);
	}
	if (!Global_1935630.f_12)
	{
		if (PED::_GET_PED_CROUCH_MOVEMENT(Global_35))
		{
			PED::_SET_PED_CROUCH_MOVEMENT(Global_35, false, 0, false);
		}
	}
	__LIB_4__::func_896(0);
	iVar0 = __LIB_0__::func_298(0);
	if (__LIB_0__::func_6(iVar0))
	{
		iVar1 = __LIB_0__::func_700(iVar0);
		if (iVar1 == 4)
		{
			MISC::_0x1096603B519C905F(__LIB_7__::func_762(uParam0->f_14, __LIB_0__::func_2() != -1));
		}
	}
	if (!func_47(uParam0))
	{
		return false;
	}
	if (uParam0->f_187 == -1)
	{
		uParam0->f_187 = 2;
	}
	if (uParam0->f_187 > 0)
	{
		PED::_0xED9582B3DA8F02B4(uParam0->f_187);
	}
	ENTITY::_0x18FF3110CF47115D(Global_35, 9, 0);
	__LIB_7__::func_884(uParam0, 1);
	AUDIO::START_AUDIO_SCENE(__LIB_7__::func_724(uParam0->f_14));
	return true;
}

int func_17(var uParam0)
{
	__LIB_7__::func_868(uParam0);
	if (func_5(uParam0))
	{
		__LIB_7__::func_864(uParam0);
		CLOCK::_SET_MILLISECONDS_PER_GAME_MINUTE(10000);
		uParam0->f_188 = 1;
		return 3;
	}
	return 2;
}

int func_19(var uParam0)
{
	if (TASK::IS_TASK_MOVE_NETWORK_ACTIVE(Global_35))
	{
	}
	if (__LIB_2__::func_774(61) || __LIB_2__::func_774(67))
	{
		__LIB_7__::func_884(uParam0, 0);
	}
	else
	{
		__LIB_7__::func_884(uParam0, 1);
	}
	switch (Local_20)
	{
		case 0:
			if (func_56(&Local_20, uParam0))
			{
				__LIB_1__::func_649(&Local_20, 1);
			}
			break;
		case 1:
			if (func_58(&Local_20))
			{
				if (__LIB_2__::func_774(61))
				{
					__LIB_11__::func_211(2);
				}
				__LIB_1__::func_649(&Local_20, 2);
			}
			break;
		case 2:
			__LIB_7__::func_448(__LIB_1__::func_317(4, 22), 0);
			ENTITY::FREEZE_ENTITY_POSITION(Local_20.f_5, true);
			func_62(&Local_20, 1);
			func_62(&Local_20, 0);
			__LIB_1__::func_748(&(Local_20.f_133), 1, 1);
			__LIB_1__::func_748(&(Local_20.f_134), 1, 1);
			__LIB_0__::func_105(1);
			if (__LIB_2__::func_774(61) && __LIB_11__::func_209(2))
			{
				return uParam0->f_12;
			}
			__LIB_1__::func_532(__LIB_1__::func_317(4, 22), 0);
			CAM::SET_CAM_ACTIVE(Local_20.f_2, false);
			uParam0->f_12 = 7;
			break;
	}
	return uParam0->f_12;
}

int func_20(var uParam0)
{
	if (func_65(uParam0))
	{
		return 7;
	}
	return 5;
}

void func_34(var uParam0)
{
	int iVar0;
	STREAMING::REMOVE_ANIM_DICT(Local_20.f_36);
	if (!__LIB_2__::func_774(61) && !__LIB_2__::func_774(67))
	{
		TASK::CLEAR_PED_TASKS(Global_35, true, false);
	}
	__LIB_11__::func_205(1);
	STREAMING::_REMOVE_MOVE_NETWORK_DEF(Local_20.f_39);
	STREAMING::_REMOVE_MOVE_NETWORK_DEF(Local_20.f_40);
	STREAMING::_REMOVE_MOVE_NETWORK_DEF(Local_20.f_41);
	if (!PLAYER::IS_PLAYER_CONTROL_ON(PLAYER::PLAYER_ID()))
	{
		PLAYER::SET_PLAYER_CONTROL(PLAYER::PLAYER_ID(), true, 0, false);
	}
	AUDIO::RELEASE_SCRIPT_AUDIO_BANK();
	AUDIO::_0x531A78D6BF27014B(Local_20.f_135);
	if (!__LIB_2__::func_774(61) && Local_20.f_124 > 95f)
	{
		iVar0 = 1;
		__LIB_7__::func_883(4, iVar0);
	}
}

void func_42(var uParam0)
{
	Local_20.f_36 = "MINI_GAMES@STORY@MAR5@MILK_COW";
	Local_20.f_37 = "MINI_GAMES@STORY@MAR5@MILK_COW@BUCKET";
	Local_20.f_38 = "CLIPSET@MINI_GAMES@STORY@MAR5@MILK_COW";
	Local_20.f_39 = "script_mar5_milkcow_john";
	Local_20.f_40 = "script_mar5_milkcow_cow";
	Local_20.f_41 = "script_mar5_milkcow_bucket";
	Local_20.f_42 = "MGMLK";
	Local_20.f_135 = "MAR5_Sounds";
	STREAMING::REQUEST_MODEL(joaat("P_STOOL02X"), false);
	STREAMING::REQUEST_MODEL(joaat("S_BUCKETMILK01X"), false);
	STREAMING::_REQUEST_MOVE_NETWORK_DEF(Local_20.f_39);
	STREAMING::_REQUEST_MOVE_NETWORK_DEF(Local_20.f_40);
	STREAMING::_REQUEST_MOVE_NETWORK_DEF(Local_20.f_41);
	STREAMING::REQUEST_ANIM_DICT(Local_20.f_36);
	STREAMING::REQUEST_ANIM_DICT(Local_20.f_37);
	STREAMING::REQUEST_CLIP_SET(Local_20.f_38);
	AUDIO::_0xD9130842D7226045(Local_20.f_135, 1);
	HUD::_TEXT_DATABASE_REQUEST(Local_20.f_42);
	STREAMING::REQUEST_PTFX_ASSET();
}

int func_44(var uParam0)
{
	if (!STREAMING::HAS_MODEL_LOADED(joaat("P_STOOL02X")))
	{
		return 0;
	}
	if (!STREAMING::HAS_MODEL_LOADED(joaat("S_BUCKETMILK01X")))
	{
		return 0;
	}
	if (!STREAMING::_HAS_MOVE_NETWORK_DEF_LOADED(Local_20.f_39))
	{
		return 0;
	}
	if (!STREAMING::_HAS_MOVE_NETWORK_DEF_LOADED(Local_20.f_40))
	{
		return 0;
	}
	if (!STREAMING::_HAS_MOVE_NETWORK_DEF_LOADED(Local_20.f_41))
	{
		return 0;
	}
	if (!STREAMING::HAS_ANIM_DICT_LOADED(Local_20.f_36))
	{
		return 0;
	}
	if (!STREAMING::HAS_ANIM_DICT_LOADED(Local_20.f_37))
	{
		return 0;
	}
	if (!STREAMING::HAS_CLIP_SET_LOADED(Local_20.f_38))
	{
		return 0;
	}
	if (!AUDIO::_0xD9130842D7226045(Local_20.f_135, 1))
	{
		return 0;
	}
	if (!HUD::_TEXT_DATABASE_HAS_LOADED(Local_20.f_42))
	{
		return 0;
	}
	if (!STREAMING::HAS_PTFX_ASSET_LOADED())
	{
		return 0;
	}
	return 1;
}

bool func_47(var uParam0)
{
	func_103(uParam0, 2);
	__LIB_1__::func_532(__LIB_1__::func_317(4, 22), 0);
	__LIB_7__::func_448(__LIB_1__::func_317(4, 22), 0);
	return true;
}

bool func_56(int iParam0, var uParam1)
{
	if (__LIB_2__::func_774(61) || __LIB_2__::func_774(67))
	{
		if (!__LIB_0__::func_27(iParam0->f_111, 512))
		{
			if (!__LIB_11__::func_209(1))
			{
				return false;
			}
			__LIB_1__::func_683(&(iParam0->f_111), 512);
			__LIB_11__::func_210(1);
		}
	}
	__LIB_7__::func_448(__LIB_1__::func_317(4, 22), 0);
	if (__LIB_2__::func_774(61) || __LIB_2__::func_774(67))
	{
		iParam0->f_6 = { -2514.944f, 432.25f, 147f };
		iParam0->f_9 = { 0f, 0f, 0f };
	}
	else
	{
		iParam0->f_6 = { uParam1->f_6 };
		iParam0->f_9 = { 0f, 0f, uParam1->f_9 };
	}
	func_110(iParam0);
	iParam0->f_124 = 0f;
	if (!__LIB_11__::func_216(&(iParam0->f_5), iParam0->f_12))
	{
		return false;
	}
	iParam0->f_3 = __LIB_11__::func_206(iParam0->f_30);
	iParam0->f_4 = __LIB_11__::func_207(iParam0->f_33);
	ENTITY::SET_ENTITY_COORDS(iParam0->f_5, iParam0->f_12, true, false, true, true);
	ENTITY::SET_ENTITY_COORDS(iParam0->f_3, iParam0->f_30, true, false, true, true);
	if (!__LIB_0__::func_175(ENTITY::GET_ENTITY_COORDS(iParam0->f_4, true, false), iParam0->f_33, 0.1f, 1))
	{
		ENTITY::SET_ENTITY_COORDS(iParam0->f_4, iParam0->f_33, true, false, true, true);
		if (!__LIB_0__::func_175(ENTITY::GET_ENTITY_COORDS(iParam0->f_4, true, false), iParam0->f_33, 1056964608 /* Float: 0.5f */, 1))
		{
			return false;
		}
	}
	if (!func_115(&(iParam0->f_2), iParam0->f_24, iParam0->f_27, iParam0->f_125))
	{
		return false;
	}
	GRAPHICS::REMOVE_PARTICLE_FX_FROM_ENTITY(iParam0->f_4);
	iParam0->f_133 = __LIB_1__::func_877("MG_UC_LEFT", joaat("INPUT_MINIGAME_MILKING_LEFT_ACTION"), 0, 570, 4000, 10, 1073741824 /* Float: 2f */, 0, 1065353216 /* Float: 1f */, 0, 3, joaat("SHORT_TIMED_EVENT"), 0);
	iParam0->f_134 = __LIB_1__::func_877("MG_UC_RIGHT", joaat("INPUT_MINIGAME_MILKING_RIGHT_ACTION"), 0, 570, 4000, 10, 1073741824 /* Float: 2f */, 0, 1065353216 /* Float: 1f */, 0, 3, joaat("SHORT_TIMED_EVENT"), 0);
	__LIB_4__::func_862(iParam0->f_133, joaat("INPUT_MINIGAME_MILKING_RIGHT_ACTION"));
	__LIB_4__::func_862(iParam0->f_134, joaat("INPUT_MINIGAME_MILKING_LEFT_ACTION"));
	func_118(iParam0);
	return true;
}

bool func_58(int iParam0)
{
	if (func_119(iParam0))
	{
		return true;
	}
	return false;
}

void func_62(int iParam0, bool bParam1)
{
	if (bParam1)
	{
		if (iParam0->f_136 != -1)
		{
			AUDIO::_0x3210BCB36AF7621B(iParam0->f_136);
			AUDIO::RELEASE_SOUND_ID(iParam0->f_136);
			iParam0->f_136 = -1;
		}
	}
	else if (iParam0->f_137 != -1)
	{
		AUDIO::_0x3210BCB36AF7621B(iParam0->f_137);
		AUDIO::RELEASE_SOUND_ID(iParam0->f_137);
		iParam0->f_137 = -1;
	}
}

bool func_65(var uParam0)
{
	CAM::_DISABLE_FIRST_PERSON_CAM_THIS_FRAME();
	switch (Local_20.f_1)
	{
		case 0:
		case 1:
			__LIB_4__::func_722(&Local_20, 2);
			break;
		case 2:
			__LIB_1__::func_748(&(Local_20.f_133), 1, 1);
			__LIB_1__::func_748(&(Local_20.f_134), 1, 1);
			func_126(&Local_20, 1);
			func_126(&Local_20, 2);
			__LIB_4__::func_722(&Local_20, 3);
			break;
		case 3:
			if (!__LIB_2__::func_774(61) && !__LIB_2__::func_774(67))
			{
				if (!func_127(&Local_20, 1, 0.5f, 1f))
				{
					return false;
				}
				CAM::RENDER_SCRIPT_CAMS(false, true, 3000, true, false, 0);
			}
			__LIB_4__::func_722(&Local_20, 4);
			break;
		case 4:
			if (ENTITY::HAS_ANIM_EVENT_FIRED(Global_35, joaat("GAMEFINISHED")))
			{
				PED::SET_PED_CAN_LEG_IK(Global_35, true);
				PED::SET_PED_LEG_IK_MODE(Global_35, 2);
				return true;
			}
			break;
	}
	return false;
}

void func_103(var uParam0, int iParam1)
{
	uParam0->f_187 = iParam1;
}

void func_110(int iParam0)
{
	vector3 vVar0;
	vVar0 = { OBJECT::_GET_OBJECT_OFFSET_FROM_COORDS(iParam0->f_6, iParam0->f_9.f_2, vLocal_0) };
	vVar0 = { vVar0 + Vector(0.01f, 0f, 0f) };
	MISC::GET_GROUND_Z_FOR_3D_COORD(vVar0, &(vVar0.f_2), false);
	iParam0->f_12 = { vVar0 };
	iParam0->f_15 = { iParam0->f_9 };
	iParam0->f_15.f_2 = (iParam0->f_15.f_2 + fLocal_3);
	vVar0 = { OBJECT::_GET_OBJECT_OFFSET_FROM_COORDS(iParam0->f_6, iParam0->f_9.f_2, vLocal_4) };
	vVar0 = { vVar0 + Vector(0.01f, 0f, 0f) };
	MISC::GET_GROUND_Z_FOR_3D_COORD(vVar0, &(vVar0.f_2), false);
	iParam0->f_18 = { vVar0 };
	iParam0->f_21 = { iParam0->f_9 };
	iParam0->f_21.f_2 = (iParam0->f_21.f_2 + fLocal_7);
	vVar0 = { OBJECT::_GET_OBJECT_OFFSET_FROM_COORDS(iParam0->f_6, iParam0->f_9.f_2, vLocal_14) };
	vVar0 = { vVar0 + Vector(0.01f, 0f, 0f) };
	MISC::GET_GROUND_Z_FOR_3D_COORD(vVar0, &(vVar0.f_2), false);
	iParam0->f_30 = { vVar0 };
	vVar0 = { OBJECT::_GET_OBJECT_OFFSET_FROM_COORDS(iParam0->f_6, iParam0->f_9.f_2, vLocal_17) };
	vVar0 = { vVar0 + Vector(0.01f, 0f, 0f) };
	MISC::GET_GROUND_Z_FOR_3D_COORD(vVar0, &(vVar0.f_2), false);
	iParam0->f_33 = { vVar0 };
	vVar0 = { OBJECT::_GET_OBJECT_OFFSET_FROM_COORDS(iParam0->f_6, iParam0->f_9.f_2, vLocal_8) };
	iParam0->f_24 = { vVar0 };
	iParam0->f_27 = { iParam0->f_9 };
	iParam0->f_27 = { iParam0->f_27 + vLocal_11 };
	iParam0->f_125 = 37.85f;
}

bool func_115(var uParam0, vector3 vParam1, vector3 vParam4, float fParam7)
{
	if (!CAM::DOES_CAM_EXIST(*uParam0))
	{
		*uParam0 = CAM::CREATE_CAM_WITH_PARAMS("DEFAULT_SCRIPTED_CAMERA", vParam1, vParam4, fParam7, true, 2);
	}
	if (!CAM::DOES_CAM_EXIST(*uParam0))
	{
		return false;
	}
	CAM::SET_CAM_ACTIVE(*uParam0, true);
	CAM::SHAKE_CAM(*uParam0, "HAND_SHAKE", 0.05f);
	CAM::RENDER_SCRIPT_CAMS(true, false, 3000, true, false, 0);
	return true;
}

void func_118(int iParam0)
{
	if (__LIB_2__::func_774(67))
	{
		__LIB_6__::func_615(joaat("MPC_HIDE_ACTION_GLOVES"), Global_35, 0, 1);
	}
	iParam0->f_43.f_30 = "Milking";
	iParam0->f_43.f_1 = joaat("DEFAULT");
	iParam0->f_43 = joaat("CLIPSET@MINI_GAMES@STORY@MAR5@MILK_COW");
	iParam0->f_77.f_30 = "Wobble";
	iParam0->f_77.f_1 = joaat("DEFAULT");
	PED::SET_PED_CAN_LEG_IK(Global_35, false);
	PED::SET_PED_LEG_IK_MODE(Global_35, 0);
	PED::SET_PED_CAN_LEG_IK(iParam0->f_5, false);
	PED::SET_PED_LEG_IK_MODE(iParam0->f_5, 0);
	__LIB_11__::func_205(0);
	ENTITY::FREEZE_ENTITY_POSITION(iParam0->f_5, true);
	TASK::TASK_MOVE_NETWORK_ADVANCED_BY_NAME_WITH_INIT_PARAMS(Global_35, iParam0->f_39, &(iParam0->f_43), iParam0->f_6, iParam0->f_9, 2, 0, 0, 0, 128, 0);
	TASK::TASK_MOVE_NETWORK_ADVANCED_BY_NAME_WITH_INIT_PARAMS(iParam0->f_5, iParam0->f_40, &(iParam0->f_43), iParam0->f_6, iParam0->f_9, 2, 0, 0, 0, 128, 0);
	TASK::TASK_MOVE_NETWORK_BY_NAME_WITH_INIT_PARAMS(iParam0->f_4, iParam0->f_41, &(iParam0->f_77), 0f, false, iParam0->f_37, 128);
	PED::_0x2208438012482A1A(Global_35, true, false);
	PED::_0x2208438012482A1A(iParam0->f_5, true, false);
	ENTITY::FORCE_ENTITY_AI_AND_ANIMATION_UPDATE(iParam0->f_4, true);
}

bool func_119(int iParam0)
{
	CAM::_DISABLE_FIRST_PERSON_CAM_THIS_FRAME();
	func_172(iParam0);
	func_173(iParam0);
	func_174(iParam0);
	switch (iParam0->f_1)
	{
		case 0:
			__LIB_0__::func_45("MG_H_MILK", 10000, 0, 0, 0, 1);
			func_176(iParam0);
			func_177(iParam0);
			__LIB_4__::func_722(iParam0, 1);
			break;
		case 1:
			iParam0->f_113 = 1f;
			iParam0->f_114 = 1f;
			func_177(iParam0);
			if (ENTITY::HAS_ANIM_EVENT_FIRED(Global_35, -1074974871) || TASK::GET_TASK_MOVE_NETWORK_EVENT(Global_35, "mgBlendOut"))
			{
				__LIB_4__::func_722(iParam0, 2);
			}
			break;
		case 2:
			func_178(iParam0);
			func_177(iParam0);
			iParam0->f_123 = iParam0->f_124;
			func_179(iParam0, iParam0->f_119, &(iParam0->f_120), 1);
			func_179(iParam0, iParam0->f_121, &(iParam0->f_122), 2);
			if (func_180(iParam0, 1))
			{
				if (__LIB_0__::func_27(iParam0->f_111, 4))
				{
					__LIB_1__::func_681(&(iParam0->f_111), 4);
				}
			}
			if (func_180(iParam0, 0))
			{
				if (__LIB_0__::func_27(iParam0->f_111, 8))
				{
					__LIB_1__::func_681(&(iParam0->f_111), 8);
				}
			}
			if (iParam0->f_124 >= 100f)
			{
				__LIB_1__::func_748(&(iParam0->f_133), 1, 1);
				__LIB_1__::func_748(&(iParam0->f_134), 1, 1);
				func_126(iParam0, 1);
				func_126(iParam0, 2);
				__LIB_5__::func_548(268435456);
				__LIB_7__::func_741();
				__LIB_4__::func_722(iParam0, 3);
			}
			break;
		case 3:
			if (__LIB_2__::func_774(61))
			{
				if ((!__LIB_11__::func_209(4) && func_127(iParam0, 0, 1065353216 /* Float: 1f */, 0)) || __LIB_11__::func_209(4))
				{
					__LIB_4__::func_722(iParam0, 4);
				}
			}
			else if (__LIB_2__::func_774(67))
			{
				if (!__LIB_11__::func_209(2))
				{
					__LIB_11__::func_211(2);
					__LIB_6__::func_616(Global_35, 0, 0);
				}
				if (func_127(iParam0, 0, 10f, 0f))
				{
					__LIB_4__::func_722(iParam0, 4);
				}
			}
			else if (func_127(iParam0, 1, 0.1f, 1f))
			{
				CAM::RENDER_SCRIPT_CAMS(false, true, 3000, true, false, 0);
				__LIB_4__::func_722(iParam0, 4);
			}
			break;
		case 4:
			if ((ENTITY::HAS_ANIM_EVENT_FIRED(Global_35, joaat("GAMEFINISHED")) || __LIB_2__::func_774(61)) || __LIB_2__::func_774(67))
			{
				PED::SET_PED_CAN_LEG_IK(Global_35, true);
				PED::SET_PED_LEG_IK_MODE(Global_35, 2);
				return true;
			}
			break;
	}
	return false;
}

void func_126(int iParam0, int iParam1)
{
	func_62(iParam0, iParam1 == 1);
	if (iParam1 == 2)
	{
		if (GRAPHICS::DOES_PARTICLE_FX_LOOPED_EXIST(iParam0->f_127))
		{
			GRAPHICS::STOP_PARTICLE_FX_LOOPED(iParam0->f_127, false);
		}
	}
	else if (GRAPHICS::DOES_PARTICLE_FX_LOOPED_EXIST(iParam0->f_126))
	{
		GRAPHICS::STOP_PARTICLE_FX_LOOPED(iParam0->f_126, false);
	}
}

bool func_127(int iParam0, bool bParam1, float fParam2, float fParam3)
{
	if (fParam3 == 1f)
	{
		if (iParam0->f_119 > 0f || iParam0->f_121 > 0f)
		{
			iParam0->f_119 = (iParam0->f_119 - 0.05f);
			if (iParam0->f_119 < 0f)
			{
				iParam0->f_119 = 0f;
			}
			iParam0->f_121 = (iParam0->f_121 - 0.05f);
			if (iParam0->f_121 < 0f)
			{
				iParam0->f_121 = 0f;
			}
			TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "LeftTrigger", iParam0->f_119);
			TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "RightTrigger", iParam0->f_121);
			TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "LeftTrigger", iParam0->f_119);
			TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "RightTrigger", iParam0->f_121);
			return false;
		}
	}
	if (!__LIB_0__::func_75(&(iParam0->f_147)))
	{
		__LIB_11__::func_205(1);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "LeftReach", fParam3);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "RightReach", fParam3);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "LeftTrigger", 0f);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "RightTrigger", 0f);
		__LIB_1__::func_283(&(iParam0->f_147), 0);
	}
	else if (__LIB_0__::func_265(&(iParam0->f_147)) > fParam2)
	{
		if (bParam1)
		{
			TASK::REQUEST_TASK_MOVE_NETWORK_STATE_TRANSITION(Global_35, "Outro");
		}
		__LIB_0__::func_37(&(iParam0->f_147));
		return true;
	}
	return false;
}

void func_172(int iParam0)
{
	if (__LIB_0__::func_75(&(iParam0->f_138)))
	{
		if ((iParam0->f_1 != 2 || iParam0->f_115 > 0f) || iParam0->f_117 > 0f)
		{
			__LIB_0__::func_105(1);
			__LIB_0__::func_37(&(iParam0->f_138));
		}
		else if (__LIB_0__::func_264(&(iParam0->f_138)) > 5f)
		{
			__LIB_0__::func_45("MG_H_MILK", 10000, 0, 0, 0, 1);
		}
	}
	else if ((iParam0->f_1 == 2 && iParam0->f_115 <= 0f) && iParam0->f_117 <= 0f)
	{
		__LIB_1__::func_148(&(iParam0->f_138));
	}
}

void func_173(int iParam0)
{
	PAD::_SET_CONTROL_CONTEXT(4, joaat("MINIGAMEMILKING"));
	iParam0->f_116 = iParam0->f_115;
	iParam0->f_118 = iParam0->f_117;
	iParam0->f_115 = PAD::GET_CONTROL_NORMAL(2, iParam0->f_131);
	iParam0->f_117 = PAD::GET_CONTROL_NORMAL(2, iParam0->f_132);
	if (iParam0->f_115 > 0f)
	{
		if (!__LIB_0__::func_27(iParam0->f_111, 1))
		{
			__LIB_1__::func_683(&(iParam0->f_111), 1);
		}
	}
	else if (__LIB_0__::func_27(iParam0->f_111, 1))
	{
		__LIB_1__::func_681(&(iParam0->f_111), 1);
	}
	if (iParam0->f_117 > 0f)
	{
		if (!__LIB_0__::func_27(iParam0->f_111, 2))
		{
			__LIB_1__::func_683(&(iParam0->f_111), 2);
		}
	}
	else if (__LIB_0__::func_27(iParam0->f_111, 2))
	{
		__LIB_1__::func_681(&(iParam0->f_111), 2);
	}
}

void func_174(int iParam0)
{
	float fVar0;
	float fVar1;
	float fVar2;
	if (TASK::IS_TASK_MOVE_NETWORK_ACTIVE(iParam0->f_4))
	{
		fVar0 = (iParam0->f_124 / 100f);
		fVar1 = (iParam0->f_123 / 100f);
		__LIB_7__::func_448(__LIB_1__::func_317(4, 22), BUILTIN::ROUND((fVar0 * 100f)));
		if (fVar0 >= 0.98f)
		{
			fVar0 = 0.98f;
		}
		else
		{
			fVar2 = ((fVar0 - fVar1) * 40f);
			if (fVar2 > iParam0->f_130)
			{
				iParam0->f_130 = ((fVar0 - fVar1) * 40f);
				if (!__LIB_0__::func_27(iParam0->f_111, 1024) && fVar0 > 0.6f)
				{
					func_214(iParam0, "COW_MOO");
					__LIB_1__::func_683(&(iParam0->f_111), 1024);
				}
			}
			else
			{
				iParam0->f_130 = (iParam0->f_130 - 0.005f);
			}
			if (iParam0->f_130 < 0f)
			{
				iParam0->f_130 = 0f;
			}
			if (iParam0->f_130 > 1f)
			{
				iParam0->f_130 = 1f;
			}
		}
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_4, "WobbleAmount", iParam0->f_130);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_4, "level", fVar0);
	}
}

void func_176(int iParam0)
{
	iParam0->f_113 = 0f;
	iParam0->f_114 = 0f;
	iParam0->f_119 = 0f;
	iParam0->f_120 = 0f;
	iParam0->f_121 = 0f;
	iParam0->f_122 = 0f;
}

void func_177(int iParam0)
{
	if (TASK::IS_TASK_MOVE_NETWORK_ACTIVE(Global_35))
	{
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "LeftTrigger", iParam0->f_119);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "RightTrigger", iParam0->f_121);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "LeftReach", iParam0->f_113);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(Global_35, "RightReach", iParam0->f_114);
	}
	if (TASK::IS_TASK_MOVE_NETWORK_ACTIVE(iParam0->f_5))
	{
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "LeftTrigger", iParam0->f_119);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "RightTrigger", iParam0->f_121);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "LeftReach", iParam0->f_113);
		TASK::SET_TASK_MOVE_NETWORK_SIGNAL_FLOAT(iParam0->f_5, "RightReach", iParam0->f_114);
	}
}

void func_178(int iParam0)
{
	iParam0->f_120 = iParam0->f_119;
	iParam0->f_122 = iParam0->f_121;
	if (__LIB_0__::func_27(iParam0->f_111, 32))
	{
		if (!__LIB_0__::func_27(iParam0->f_111, 128) && iParam0->f_115 < 0.4f)
		{
			__LIB_1__::func_683(&(iParam0->f_111), 128);
		}
		iParam0->f_119 = (iParam0->f_119 - 0.05f);
		if (iParam0->f_119 < 0f)
		{
			iParam0->f_119 = 0f;
		}
		if (__LIB_0__::func_27(iParam0->f_111, 128) && __LIB_0__::func_264(&(iParam0->f_141)) > 1f)
		{
			if (iParam0->f_119 < 0.1f && iParam0->f_115 > 0.1f)
			{
				__LIB_1__::func_681(&(iParam0->f_111), 128);
				__LIB_1__::func_681(&(iParam0->f_111), 32);
				iParam0->f_119 = (iParam0->f_119 + 0.1f);
			}
			else if (iParam0->f_119 <= 0f)
			{
				__LIB_1__::func_681(&(iParam0->f_111), 128);
				__LIB_1__::func_681(&(iParam0->f_111), 32);
			}
		}
	}
	if (__LIB_0__::func_27(iParam0->f_111, 64))
	{
		if (!__LIB_0__::func_27(iParam0->f_111, 256) && iParam0->f_117 < 0.4f)
		{
			__LIB_1__::func_683(&(iParam0->f_111), 256);
		}
		iParam0->f_121 = (iParam0->f_121 - 0.05f);
		if (iParam0->f_121 < 0f)
		{
			iParam0->f_121 = 0f;
		}
		if (__LIB_0__::func_27(iParam0->f_111, 256) && __LIB_0__::func_264(&(iParam0->f_144)) > 1f)
		{
			if (iParam0->f_121 < 0.1f && iParam0->f_117 > 0.1f)
			{
				__LIB_1__::func_681(&(iParam0->f_111), 256);
				__LIB_1__::func_681(&(iParam0->f_111), 64);
				iParam0->f_121 = (iParam0->f_121 + 0.1f);
			}
			else if (iParam0->f_121 <= 0f)
			{
				__LIB_1__::func_681(&(iParam0->f_111), 256);
				__LIB_1__::func_681(&(iParam0->f_111), 64);
			}
		}
	}
	if (__LIB_0__::func_27(iParam0->f_111, 1) || __LIB_0__::func_27(iParam0->f_111, 2))
	{
		if (!__LIB_0__::func_27(iParam0->f_111, 32))
		{
			iParam0->f_119 = (iParam0->f_119 + ((iParam0->f_115 - iParam0->f_119) * iParam0->f_112));
		}
		if (!__LIB_0__::func_27(iParam0->f_111, 64))
		{
			iParam0->f_121 = (iParam0->f_121 + ((iParam0->f_117 - iParam0->f_121) * iParam0->f_112));
		}
	}
}

void func_179(int iParam0, float fParam1, var uParam2, int iParam3)
{
	float fVar0;
	if (iParam3 == 1 && __LIB_0__::func_27(iParam0->f_111, 32))
	{
		return;
	}
	if (iParam3 == 2 && __LIB_0__::func_27(iParam0->f_111, 64))
	{
		return;
	}
	if (fParam1 <= 0f)
	{
		return;
	}
	if (iParam3 == 2)
	{
		if (!GRAPHICS::DOES_PARTICLE_FX_LOOPED_EXIST(iParam0->f_127))
		{
			iParam0->f_127 = GRAPHICS::START_PARTICLE_FX_LOOPED_ON_ENTITY_BONE("scr_mg_milking", iParam0->f_5, 0f, 0f, 0f, 0f, 0f, 0f, ENTITY::GET_ENTITY_BONE_INDEX_BY_NAME(iParam0->f_5, "MH_R_Udder0"), 1f, false, false, false);
			iParam0->f_129 = 0f;
			GRAPHICS::SET_PARTICLE_FX_LOOPED_EVOLUTION(iParam0->f_127, "intensity", iParam0->f_129, false);
		}
	}
	else if (!GRAPHICS::DOES_PARTICLE_FX_LOOPED_EXIST(iParam0->f_126))
	{
		iParam0->f_126 = GRAPHICS::START_PARTICLE_FX_LOOPED_ON_ENTITY_BONE("scr_mg_milking", iParam0->f_5, 0f, 0f, 0f, 0f, 0f, 0f, ENTITY::GET_ENTITY_BONE_INDEX_BY_NAME(iParam0->f_5, "MH_R_Udder1"), 1f, false, false, false);
		iParam0->f_128 = 0f;
		GRAPHICS::SET_PARTICLE_FX_LOOPED_EVOLUTION(iParam0->f_126, "intensity", iParam0->f_128, false);
	}
	if (iParam3 == 2)
	{
		if (iParam0->f_129 >= 0.3f)
		{
			iParam0->f_129 = (iParam0->f_129 - 0.2f);
		}
		else
		{
			iParam0->f_129 = (iParam0->f_129 - 0.02f);
		}
		if (iParam0->f_129 < 0f)
		{
			iParam0->f_129 = 0f;
		}
		if (fParam1 > *uParam2)
		{
			iParam0->f_129 = (iParam0->f_129 + ((fParam1 - *uParam2) * 4f));
		}
		if (iParam0->f_129 > 1f)
		{
			iParam0->f_129 = 1f;
		}
		GRAPHICS::SET_PARTICLE_FX_LOOPED_EVOLUTION(iParam0->f_127, "intensity", iParam0->f_129, false);
	}
	else
	{
		if (iParam0->f_128 >= 0.3f)
		{
			iParam0->f_128 = (iParam0->f_128 - 0.2f);
		}
		else
		{
			iParam0->f_128 = (iParam0->f_128 - 0.02f);
		}
		if (iParam0->f_128 < 0f)
		{
			iParam0->f_128 = 0f;
		}
		if (fParam1 > *uParam2)
		{
			iParam0->f_128 = (iParam0->f_128 + ((fParam1 - *uParam2) * 4f));
		}
		if (iParam0->f_128 > 1f)
		{
			iParam0->f_128 = 1f;
		}
		GRAPHICS::SET_PARTICLE_FX_LOOPED_EVOLUTION(iParam0->f_126, "intensity", iParam0->f_128, false);
	}
	if (fParam1 > *uParam2)
	{
		if (fParam1 > 0f && fParam1 < 0.8f)
		{
			iParam0->f_124 = (iParam0->f_124 + ((fParam1 - *uParam2) * 12f));
			if (iParam3 == 2)
			{
				if (!__LIB_0__::func_27(iParam0->f_111, 8) && iParam0->f_129 > 0.2f)
				{
					func_215(iParam0, "COW_MILK", 0);
					__LIB_1__::func_683(&(iParam0->f_111), 8);
				}
			}
			else if (!__LIB_0__::func_27(iParam0->f_111, 4) && iParam0->f_128 > 0.2f)
			{
				func_215(iParam0, "COW_MILK", 1);
				__LIB_1__::func_683(&(iParam0->f_111), 4);
			}
		}
	}
	else
	{
		func_126(iParam0, iParam3);
		fVar0 = *uParam2;
		if (iParam3 == 1)
		{
			__LIB_1__::func_683(&(iParam0->f_111), 32);
			__LIB_0__::func_268(&(iParam0->f_141), fVar0);
		}
		else
		{
			__LIB_1__::func_683(&(iParam0->f_111), 64);
			__LIB_0__::func_268(&(iParam0->f_144), fVar0);
		}
	}
	*uParam2 = fParam1;
}

bool func_180(int iParam0, bool bParam1)
{
	if (bParam1)
	{
		if (iParam0->f_136 == -1)
		{
			return true;
		}
		if (AUDIO::_0x84848E1C0FC67DBB(iParam0->f_136))
		{
			AUDIO::RELEASE_SOUND_ID(iParam0->f_136);
			iParam0->f_136 = -1;
			return true;
		}
		return false;
	}
	else
	{
		if (iParam0->f_137 == -1)
		{
			return true;
		}
		if (AUDIO::_0x84848E1C0FC67DBB(iParam0->f_137))
		{
			AUDIO::RELEASE_SOUND_ID(iParam0->f_137);
			iParam0->f_137 = -1;
			return true;
		}
		return false;
	}
	return false;
}

void func_214(int iParam0, char* sParam1)
{
	AUDIO::PLAY_SOUND_FRONTEND(sParam1, iParam0->f_135, true, 0);
}

void func_215(int iParam0, char* sParam1, bool bParam2)
{
	float fVar0;
	float fVar1;
	if (bParam2)
	{
		if (iParam0->f_136 != -1)
		{
			if (!AUDIO::_0x84848E1C0FC67DBB(iParam0->f_136))
			{
				return;
			}
			AUDIO::RELEASE_SOUND_ID(iParam0->f_136);
		}
		iParam0->f_136 = AUDIO::GET_SOUND_ID();
		AUDIO::_0xF1C5310FEAA36B48(iParam0->f_136, sParam1, iParam0->f_5, iParam0->f_135, 0, 0);
		fVar0 = (iParam0->f_124 / 100f);
		AUDIO::_0x503703EC1781B7D6(iParam0->f_136, "MilkingProgress", fVar0);
	}
	else
	{
		if (iParam0->f_137 != -1)
		{
			if (!AUDIO::_0x84848E1C0FC67DBB(iParam0->f_137))
			{
				return;
			}
			AUDIO::RELEASE_SOUND_ID(iParam0->f_137);
		}
		iParam0->f_137 = AUDIO::GET_SOUND_ID();
		AUDIO::_0xF1C5310FEAA36B48(iParam0->f_137, sParam1, iParam0->f_5, iParam0->f_135, 0, 0);
		fVar1 = (iParam0->f_124 / 100f);
		AUDIO::_0x503703EC1781B7D6(iParam0->f_137, "MilkingProgress", fVar1);
	}
}

